function LichUtils(){var $=Math.PI;function n($){return Math.floor($)}function _($,_,t){var i,h,r,u;return h=t+4800-(i=n((14-_)/12)),(u=$+n((153*(r=_+12*i-3)+2)/5)+365*h+n(h/4)-n(h/100)+n(h/400)-32045)<2299161&&(u=$+n((153*r+2)/5)+365*h+n(h/4)-32083),u}function t(_,t){var i,h,r,u,g,e,a,o;return n((r=(h=((i=_-.5-t/24)-2451545)/36525)*h,u=$/180,g=357.5291+35999.0503*h-1559e-7*r-48e-8*h*r,o=(e=280.46645+36000.76983*h+3032e-7*r)+(a=(a=(1.9146-.004817*h-14e-6*r)*Math.sin(u*g))+(.019993-101e-6*h)*Math.sin(2*u*g)+29e-5*Math.sin(3*u*g)),o*=u,(o-=2*$*n(o/(2*$)))/$*6))}function i(_,t){var i,h,r,u,g,e,a,o,N,c,f,y;return n((u=(r=(h=(i=_)/1236.85)*h)*h,g=$/180,e=2415020.75933+29.53058868*i+1178e-7*r-155e-9*u,e+=33e-5*Math.sin((166.56+132.87*h-.009173*r)*g),a=359.2242+29.10535608*i-333e-7*r-347e-8*u,o=306.0253+385.81691806*i+.0107306*r+1236e-8*u,N=21.2964+390.67050646*i-.0016528*r-239e-8*u,c=(c=(.1734-393e-6*h)*Math.sin(a*g)+.0021*Math.sin(2*g*a))-.4068*Math.sin(o*g)+.0161*Math.sin(2*g*o),c-=4e-4*Math.sin(3*g*o),(y=e+(c=(c=(c=(c=c+.0104*Math.sin(2*g*N)-.0051*Math.sin(g*(a+o)))-.0074*Math.sin(g*(a-o))+4e-4*Math.sin(g*(2*N+a)))-4e-4*Math.sin(g*(2*N-a))-6e-4*Math.sin(g*(2*N+o)))+.001*Math.sin(g*(2*N-o))+5e-4*Math.sin(g*(2*o+a)))-(f=h<-11?.001+839e-6*h+2261e-7*r-845e-8*u-81e-9*h*u:-.000278+265e-6*h+262e-6*r))+.5+t/24))}function h($,h){var r,u,g,e;return u=_(31,12,$)-2415021,(e=t(g=i(r=n(u/29.530588853),h),h))>=9&&(g=i(r-1,h)),g}function r($,_){var h,r,u,g;h=n(($-2415021.076998695)/29.530588853+.5),r=0,u=t(i(h+(g=1),_),_);do r=u,u=t(i(h+ ++g,_),_);while(u!=r&&g<14);return g-1}return{am2Duong:function $(_,t,u,g,e){var a,o,N,c,f,y,l,s,T,m,C,V,p,v,L,D,H;if(t<11?(o=h(u-1,e),N=h(u,e)):(o=h(u,e),N=h(u+1,e)),a=n(.5+(o-2415021.076998695)/29.530588853),(c=t-11)<0&&(c+=12),N-o>365){if((y=(f=r(o,e))-2)<0&&(y+=12),0!=g&&t!=y)return[0,0,0];(0!=g||c>=f)&&(c+=1)}return(s=(l=i(a+c,e))+_-1)>2299160?(m=n((4*(T=s+32044)+3)/146097),C=T-n(146097*m/4)):(m=0,C=s+32082),V=n((4*C+3)/1461),p=C-n(1461*V/4),v=n((5*p+2)/153),L=p-n((153*v+2)/5)+1,[L,D=v+3-12*n(v/10),H=100*m+V-4800+n(v/10)]},duong2Am:function $(t,u,g,e){var a,o,N,c,f,y,l,s,T;return o=_(t,u,g),(N=i((a=n((o-2415021.076998695)/29.530588853))+1,e))>o&&(N=i(a,e)),f=c=h(g,e),c>=N?(s=g,c=h(g-1,e)):(s=g+1,f=h(g+1,e)),y=o-N+1,diff=n((N-c)/29),T=0,l=diff+11,f-c>365&&diff>=(leapMonthDiff=r(c,e))&&(l=diff+10,diff==leapMonthDiff&&(T=1)),l>12&&(l-=12),l>=11&&diff<4&&(s-=1),[y,l,s,T]}}}function Lich(){let $=new LichUtils,n={"1,1":"Tết Dương Lịch","3,2":"Ng\xe0y th\xe0nh lập Đảng Cộng sản Việt Nam","14,2":"Lễ t\xecnh nh\xe2n (Valentine)","27,2":"Ng\xe0y Thầy thuốc Việt Nam","8,3":"Ng\xe0y Quốc tế Phụ nữ","20,3":"Ng\xe0y Quốc tế Hạnh ph\xfac","26,3":"Ng\xe0y th\xe0nh lập Đo\xe0n Thanh ni\xean Cộng sản Hồ Ch\xed Minh","22,4":"Ng\xe0y Tr\xe1i đất","30,4":"Ng\xe0y giải ph\xf3ng Miền Nam thống nhất đất nước","1,5":"Quốc tế lao động","19,5":"Ng\xe0y sinh của Chủ tịch Hồ Ch\xed Minh","1,6":"Ng\xe0y Quốc tế Thiếu nhi","20,6":"Ng\xe0y Gia đ\xecnh Việt Nam","27,7":"Ng\xe0y Thương binh Liệt sĩ","19,8":"Ng\xe0y C\xe1ch mạng th\xe1ng T\xe1m th\xe0nh c\xf4ng","2,9":"Ng\xe0y Quốc kh\xe1nh nước Cộng ho\xe0 X\xe3 hội Chủ nghĩa Việt Nam","7,9":"Ng\xe0y th\xe0nh lập Đ\xe0i Truyền h\xecnh Việt Nam","13,9":"Ng\xe0y Doanh nh\xe2n Việt Nam","14,10":"Ng\xe0y th\xe0nh lập Hội N\xf4ng d\xe2n Việt Nam","20,10":"Ng\xe0y th\xe0nh lập Hội Phụ nữ Việt Nam","20,11":"Ng\xe0y Nh\xe0 gi\xe1o Việt Nam","22,12":"Ng\xe0y th\xe0nh lập Qu\xe2n đội Nh\xe2n d\xe2n Việt Nam","25,12":"Lễ Gi\xe1ng Sinh"},_=["Canh","T\xe2n","Nh\xe2m","Qu\xfd","Gi\xe1p","Ất","B\xednh","Đinh","Mậu","Kỷ"],t=["Th\xe2n","Đậu","Tuất","Hợi","T\xfd","Sửu","Dần","M\xe3o","Th\xecn","Tỵ","Ngọ","M\xf9i"],i=["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ S\xe1u","Thứ Bảy"];function h($,n,_){let t=new Date(`${n}-${$}-${_}`).getDay();return t}function r($,n){return new Date(n,$,0).getDate()}return{getDay:function $(n,_,t){let r=h(n,_,t);return i[r]},getDate:r,getMap:function n(_,t){let u=h(1,_,t)-1,g=r(_,t),e=r(_-1,t),a=1,o=[],N=0,c=_;for(let f=0;f<42;f++){f-u>g?(c=_+1,N=a++):u-f<0?(c=_,N=f-u):(c=_-1,N=e-(u-f));let y=$.duong2Am(N,c,t,7),l=1==N&&_==c||1==y[0],s=l?"/"+y[1]:"";o[f]=[c,N,y[0]+s,l]}return[i,o]},getCanChi:function $(n){return _[n%10]+" "+t[n%12]},getNgayLe:function $(_,t){return n[`${_},${t}`]},getThangCanChi:function $(n,i){let h=i%5*2+n-1+8;return n=(n+=5)>11?n-12:n,_[h=h>=10?h%10:h]+" "+t[n%12]},getNgayCanChi:function $(n,i,h){var r;n++;let u=Math.floor(h/100),g=!((r=h)%4),e=h%100,a=i>2?-2:g?-1:0;i=i%2?Math.floor(i/2):i/2+30;let o=(n+i+(h=Math.floor(e/4)+e%12*5)+(u=21-3*Math.floor((u-16)/4)-u%4*16)+a)%60;return _[o%10]+" "+t[(o+4)%12]},...$}}
function Swiper(e){e.classList.add("swiper"),e.parentElement.style.overflow="hidden";let t=document.createElement("label");t.innerHTML="›",t.classList="swiper-arrow";var n="ontouchstart"in document.documentElement,i="onmousedown",a="onmousemove";endEventType="onmouseup",n&&(i="ontouchstart",a="ontouchmove",endEventType="ontouchend");let o,c,r,l=!1;function d(){}function s(){}function u(t,n){e.style.left=-t+"px",setTimeout(function(){e.style.opacity=0,e.style.left=t+"px",setTimeout(function(){e.style.transition=""},200),n()},100)}return e[i]=function(t){o=(t=t.touches?t.touches[0]:t).clientX,l=!0,r=e.clientWidth},e[a]=function(n){if(!l)return;let i=(n=n.changedTouches?n.changedTouches[0]:n).clientX,a=i-o;e.style.left=a/2+"px",e.style.opacity=1-Math.abs(a)/r,Math.abs(o-i)>99?e.appendChild(t):t.remove(),o<i?t.classList.add("swiper-arrow-prev"):t.classList.remove("swiper-arrow-prev")},e[endEventType]=function(n){var i;c=(n=n.changedTouches?n.changedTouches[0]:n).clientX;let a=!1;c-o>99&&(a=!0,u(-r,d)),o-c>99&&(a=!0,u(r,s)),i=a,e.style.transition="left 0.1s",l=!1,setTimeout(function(){e.style.left="0px",e.style.opacity=1},i?200:0),t.remove()},Object.defineProperties({},{onWipPrev:{set:function(e){"function"==typeof e&&(d=e)}},onWipNext:{set:function(e){"function"==typeof e&&(s=e)}}})}function LichNgay(e,t,n,i){let a={container:"container",date:"date",day:"day","day-name":"day-name","jd-day":"jd-day","jd-month":"jd-month","next-day":"next-day","prev-day":"prev-day","can-chi":"can-chi","can-chi-thang":"can-chi-thang","can-chi-ngay":"can-chi-ngay",event:"event"},o={},c={},r,l=n;function d(e,t,n){}function s(a,c,s){var u,h,f,p,g,y,m,v,$;let _;e=a||e,t=c||t,n=s||n,l=(r=i.duong2Am(e,t,n,7))[2],u=r,o["jd-day"].value=u[0],o["jd-month"].value=u[1],_=i.getThangCanChi(u[1],u[2]),o["can-chi-thang"].innerHTML=_,h=e,o.day.style.setProperty("--num",h),f=`${t}-${n}`,o.date.innerHTML=f,p=n,o["can-chi"].innerHTML=i.getCanChi(p),g=e,y=t,m=n,o["can-chi-ngay"].innerHTML=i.getNgayCanChi(g,y,m),v=e,$=t,o.event.innerHTML=i.getNgayLe(v,$)||"",o["day-name"].innerHTML=i.getDay(e,t,n),d(e,t,n),document.title=`Lịch Vạn Ni\xean: Ng\xe0y ${e}-${t}-${n} Nhằm Ng\xe0y: ${r[0]}-${r[1]}-${r[2]} \xc2m Lịch!`}function u(){let a=i.getDate(t,n),o=e+1;o>a&&(o=1,++t>12&&(t=1,n++)),s(o)}function h(){let a=e-1;if(a<=0){--t<1&&(t=12,n--);a=i.getDate(t,n)}s(a)}return!function e(){for(let t in a){let n=a[t]||t;o[t]=document.getElementById("ngay-"+n)}let r=Math.round(window.innerHeight/100)+1;o.day.style["font-size"]=`${r}em`,o.day.style.height=`${16*r}px`;let f=new Swiper(o.container);f.onWipNext=u,f.onWipPrev=h,o["jd-day"].onchange=o["jd-month"].onchange=function(){let e=o["jd-day"].value,t=o["jd-month"].value,n=i.am2Duong(parseInt(e),parseInt(t),l,0,0);s(n[0],n[1],n[2])},s(),Object.defineProperties(c,{update:{get:function(){return s}},onUpdate:{set:function(e){"function"==typeof e&&(d=e)}}})}(),c}function LichThang(e,t,n,i){let a={content:"content",container:"container",next:"next",prev:"prev",month:"month",year:"year"},o=[n-50,n+50],c=[],r=null,l={},d={};function s(e,t,n){let i=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),r={};function l(r,l,d){e=r||e,t=l||t,n=d||n,a.innerHTML=e,o.innerHTML=t,c.remove(),d&&i.appendChild(c)}return i.classList="t-item curs",o.classList.add("t-item-jd"),c.classList="t-item-star",c.innerHTML="★",i.appendChild(a),i.appendChild(o),Object.defineProperties(r,{update:{get:function(){return l}},target:{get:function(){return i}}}),r}function u(e,t,n){console.log(e,t,n)}function h(e){r&&r.classList.remove("selected"),e&&(r=e).classList.add("selected")}function f(a,r,d){h(),e=a||e,t=r||t,n=d||n;let s=i.getMap(t,n)[1];for(let f=0;f<42;f++){let p=s[f][0],g=s[f][1],y=s[f][2],m=s[f][3],v=c[f],$=i.getNgayLe(g,p);v.update(g,y,$),a&&a==g&&t==p&&h(v.target),m?v.target.classList.add("focus"):v.target.classList.remove("focus"),p==t?(v.target.classList.remove("disable"),v.target.onclick=function(){h(this),u(g,t,n)}):(v.target.onclick=void 0,v.target.classList.add("disable"))}l.month[t-1].selected=!0,l.year[n-o[0]].selected=!0}return!function i(){for(let r in a){let h=a[r]||r;l[r]=document.getElementById("thang-"+h)}for(let p=0;p<42;p++)c[p]=new s,l.container.appendChild(c[p].target);for(let g=1;g<=12;g++){let y=document.createElement("option");y.value=g,y.innerHTML=g,l.month.appendChild(y)}for(let m=o[0];m<=o[1];m++){let v=document.createElement("option");v.value=m,v.innerHTML=m,l.year.appendChild(v)}function $(e){(t+=e)>12?(t=1,n++):t<1&&(t=12,n--),f()}l.month.onchange=l.year.onchange=function(){let e=parseInt(l.month.value),t=parseInt(l.year.value);f(null,e,t)};let _=new Swiper(l.content);_.onWipNext=l.next.onclick=function(){$(1)},_.onWipPrev=l.prev.onclick=function(){$(-1)},f(e,t,n),Object.defineProperties(d,{update:{get:function(){return f}},onItemClick:{set:function(e){"function"==typeof e&&(u=e)}}})}(),d}window.onload=function(){let e=new URLSearchParams(window.location.search),t=parseInt(e.get("day")),n=parseInt(e.get("month")),i=parseInt(e.get("year"));if(!t||!n||!i){let a=new Date;t=a.getDate(),n=a.getMonth()+1,i=a.getFullYear()}let o=new Lich,c=new LichNgay(t,n,i,o),r=new LichThang(t,n,i,o);r.onItemClick=function(e,t,n){c.update(e,t,n)},c.onUpdate=function(e,t,n){r.update(e,t,n)}};
